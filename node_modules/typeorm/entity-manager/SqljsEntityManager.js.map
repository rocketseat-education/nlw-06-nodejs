{"version":3,"sources":["../../src/entity-manager/SqljsEntityManager.ts"],"names":[],"mappings":";;;;AAEA,iDAA8C;AAG9C;;;GAGG;AACH;IAAwC,8CAAa;IAGjD,4EAA4E;IAC5E,cAAc;IACd,4EAA4E;IAE5E,4BAAY,UAAsB,EAAE,WAAyB;QAA7D,YACI,kBAAM,UAAU,EAAE,WAAW,CAAC,SAEjC;QADG,KAAI,CAAC,MAAM,GAAG,UAAU,CAAC,MAAqB,CAAC;;IACnD,CAAC;IAED,4EAA4E;IAC5E,iBAAiB;IACjB,4EAA4E;IAE5E;;;OAGG;IACG,yCAAY,GAAlB,UAAmB,4BAAiD;;;;4BAChE,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,4BAA4B,CAAC,EAAA;;wBAApD,SAAoD,CAAC;;;;;KACxD;IAED;;;OAGG;IACG,yCAAY,GAAlB,UAAmB,sBAA+B;;;;4BAC9C,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,EAAA;;wBAA9C,SAA8C,CAAC;;;;;KAClD;IAED;;OAEG;IACH,2CAAc,GAAd;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IAChC,CAAC;IAEJ,yBAAC;AAAD,CAvCD,AAuCE,CAvCsC,6BAAa,GAuCnD;AAvCW,gDAAkB","file":"SqljsEntityManager.js","sourcesContent":["import {Connection} from \"../connection/Connection\";\nimport {QueryRunner} from \"../query-runner/QueryRunner\";\nimport {EntityManager} from \"./EntityManager\";\nimport {SqljsDriver} from \"../driver/sqljs/SqljsDriver\";\n\n/**\n * A special EntityManager that includes import/export and load/save function\n * that are unique to Sql.js.\n */\nexport class SqljsEntityManager extends EntityManager {\n    private driver: SqljsDriver;\n\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n\n    constructor(connection: Connection, queryRunner?: QueryRunner) {\n        super(connection, queryRunner);\n        this.driver = connection.driver as SqljsDriver;\n    }\n    \n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n\n    /**\n     * Loads either the definition from a file (Node.js) or localstorage (browser)\n     * or uses the given definition to open a new database.\n     */\n    async loadDatabase(fileNameOrLocalStorageOrData: string | Uint8Array): Promise<void> {\n        await this.driver.load(fileNameOrLocalStorageOrData);\n    }\n    \n    /**\n     * Saves the current database to a file (Node.js) or localstorage (browser)\n     * if fileNameOrLocalStorage is not set options.location is used.\n     */\n    async saveDatabase(fileNameOrLocalStorage?: string): Promise<void> {\n        await this.driver.save(fileNameOrLocalStorage);\n    }\n\n    /**\n     * Returns the current database definition.\n     */\n    exportDatabase(): Uint8Array {\n        return this.driver.export();\n    }\n\n }"],"sourceRoot":".."}